[gd_scene load_steps=15 format=2]

[ext_resource path="res://weapons/WeaponMechanics.gd" type="Script" id=1]
[ext_resource path="res://assets/sfx/player/blood_spurt1.wav" type="AudioStream" id=2]
[ext_resource path="res://assets/sfx/player/blood_spurt3.wav" type="AudioStream" id=3]
[ext_resource path="res://assets/sprites/32x32.png" type="Texture" id=4]
[ext_resource path="res://assets/sprites/rope.png" type="Texture" id=5]
[ext_resource path="res://assets/sfx/player/blood_spurt2.wav" type="AudioStream" id=6]
[ext_resource path="res://assets/sfx/player/gib1.wav" type="AudioStream" id=7]
[ext_resource path="res://player/Chain.tscn" type="PackedScene" id=8]
[ext_resource path="res://weapons/Weapon.tscn" type="PackedScene" id=9]
[ext_resource path="res://player/OtherPlayer.gd" type="Script" id=10]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 0.998139, 2.11467 )

[sub_resource type="PhysicsMaterial" id=2]

[sub_resource type="CapsuleShape2D" id=3]

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 18.1528, 6.02961 )

[node name="OtherPlayer" type="KinematicBody2D" groups=[
"ChainGang",
"Players",
]]
rotation = -0.000230981
collision_layer = 4
collision_mask = 0
collision/safe_margin = 0.05
script = ExtResource( 10 )

[node name="WeaponMechanics" type="Node2D" parent="."]
script = ExtResource( 1 )

[node name="Sprite" type="Sprite" parent="."]
modulate = Color( 0.894118, 0.0862745, 0.0862745, 1 )
position = Vector2( -4.3709, 4.91209 )
scale = Vector2( 1.46035, 2.24052 )
texture = ExtResource( 4 )
region_rect = Rect2( 11, 13, 18, 20 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( -4.38814, 4.89539 )
rotation = 0.000126217
scale = Vector2( 23.308, 17 )
shape = SubResource( 1 )

[node name="Weapon" parent="." instance=ExtResource( 9 )]
position = Vector2( 18.4133, -0.000347614 )

[node name="GrappleTimer" type="Timer" parent="."]
process_mode = 0
wait_time = 4.0

[node name="Chain" parent="." groups=[
"ChainGang",
] instance=ExtResource( 8 )]
show_behind_parent = true
position = Vector2( -4.6513, -1.20232 )
scale = Vector2( 1.36203, 1.23864 )

[node name="Whip" type="PinJoint2D" parent="."]
show_behind_parent = true
position = Vector2( -13.2539, 3.38521 )
node_a = NodePath("..")
node_b = NodePath("GrooveJoint2D/RigidBody2D")
bias = 0.9
softness = 1.0

[node name="GrooveJoint2D" type="GrooveJoint2D" parent="Whip"]
position = Vector2( 0.140658, -0.140596 )
node_a = NodePath("../..")
node_b = NodePath("RigidBody2D")
bias = 0.9
disable_collision = false
length = 1.0
initial_offset = 1.0

[node name="RigidBody2D" type="RigidBody2D" parent="Whip/GrooveJoint2D"]
position = Vector2( -5.14383, 14.0025 )
rotation = -0.413721
collision_layer = 32
collision_mask = 32
physics_material_override = SubResource( 2 )
contact_monitor = true
can_sleep = false

[node name="Sprite" type="Sprite" parent="Whip/GrooveJoint2D/RigidBody2D"]
position = Vector2( 3.70252, 2.46796 )
scale = Vector2( 0.438508, 0.558329 )
texture = ExtResource( 5 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Whip/GrooveJoint2D/RigidBody2D"]
position = Vector2( 3.59615, 1.55169 )
rotation = -1.13057
scale = Vector2( 1.63873, 1 )
shape = SubResource( 3 )

[node name="Whip_Contraint" type="RigidBody2D" parent="."]
visible = false
position = Vector2( -13.1131, 2.96335 )
collision_layer = 4
collision_mask = 32
mode = 3
mass = 0.0316327

[node name="CollisionShape2D" type="CollisionShape2D" parent="Whip_Contraint"]
visible = false
position = Vector2( 0.284856, -15.6097 )
shape = SubResource( 4 )

[node name="WallJumpTimer" type="Timer" parent="."]
wait_time = 0.3

[node name="Username" type="Label" parent="."]
margin_left = -60.0
margin_top = -54.0
margin_right = 48.0
margin_bottom = -32.0
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BloodGore" type="Node2D" parent="."]

[node name="BloodSound1" type="AudioStreamPlayer2D" parent="BloodGore"]
stream = ExtResource( 2 )
bus = "Game SFX"

[node name="BloodSound2" type="AudioStreamPlayer2D" parent="BloodGore"]
stream = ExtResource( 6 )
bus = "Game SFX"

[node name="BloodSound3" type="AudioStreamPlayer2D" parent="BloodGore"]
stream = ExtResource( 3 )
bus = "Game SFX"

[node name="GibSound" type="AudioStreamPlayer2D" parent="BloodGore"]
stream = ExtResource( 7 )
bus = "Game SFX"

[node name="BloodTimer" type="Timer" parent="BloodGore"]

[node name="Delay" type="Timer" parent="."]
[connection signal="timeout" from="GrappleTimer" to="." method="_on_GrappleTimer_timeout"]
[connection signal="timeout" from="WallJumpTimer" to="." method="_on_WallJumpTimer_timeout"]
